<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VIBE - AI Programming Assistant Experiment</title>

    <!-- Use relative paths that work on GitHub Pages -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap"
      rel="stylesheet"
    />

    <!-- CodeMirror -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/codemirror.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/theme/dracula.min.css"
    />

    <!-- GitHub Pages specific configuration -->
    <script>
      // Set backend URL for GitHub Pages
      window.BACKEND_URL = "BACKEND_URL_PLACEHOLDER";

      // Debug info
      console.log("🌐 Running on GitHub Pages");
      console.log("📡 Backend URL:", window.BACKEND_URL);
    </script>
  </head>
  <body class="text-sm">
    <!-- GitHub Pages Notice -->
    <div
      id="github-pages-notice"
      class="bg-blue-600 text-white text-center py-2 text-xs"
    >
      🚀 Running on GitHub Pages - Backend powered by Azure |
      <span id="backend-status">Testing connection...</span>
    </div>

    <!-- Rest of your existing HTML content from index.html -->
    <!-- This content will be inserted by the GitHub Actions workflow -->

    <!-- GitHub Pages specific scripts - load after main content -->
    <script type="module">
      // Test backend connection and show status
      if (window.BACKEND_URL) {
        fetch(`${window.BACKEND_URL}/health`)
          .then((response) => response.json())
          .then((data) => {
            document.getElementById("backend-status").textContent =
              "✅ Backend Connected";
          })
          .catch((error) => {
            document.getElementById("backend-status").textContent =
              "❌ Backend Offline";
            console.error("Backend test failed:", error);
          });
      }
    </script>
  </body>
</html>
